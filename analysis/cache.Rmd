---
title: "Cache"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Cache

```{r,eval=FALSE}

mean_targets <- rowMeans(mtx)
mean_targets <- c(target_names)

barcode_seqs <- colnames(mtx)
mean_barcodes <- c(barcode_seqs)

png(file="./analysis/images/0_checking_QC'ed_data.png",
width=600, height=350)
plot(mtx_min_mean_target)
plot(mtx_max_mean_target)
plot(mtx_min_mean_barcode)
plot(mtx_max_mean_barcode)

dev.off()


```



```{r,eval=FALSE}
lapply(c("foreach", "doParallel"), require, character.only = TRUE)
numCores <- detectCores(all.tests = FALSE, logical = TRUE)

foreach (file = files) %dopar% {
  
}
```

**try:**
```{r,eval=FALSE}
class(f_exp_matrix)
attributes(f_exp_matrix)
dim(f_exp_matrix)
f_exp_matrix[1,1]
summary(f_exp_matrix[,1])


col_num <- 199
test <- f_exp_matrix[,col_num]
sum(test !=0)
plot(test)

row_num <- 199

row_num <- 199
test <- f_exp_matrix[row_num,]
sum(test != 0)
plot(test)

sum(f_exp_matrix >= 1)
sum(f_exp_matrix > 1)
sum(f_exp_matrix == 1)
```

- gene by cell
- check how many cells with non zero expression genes
- check how many gene with non zero expression cells
- hist()
```

TRASH

```{r,eval=FALSE}


#lab <- rep("", length(test))
#lab[seq(1, length(test), by=5)] <-names(test)[seq(1, length(test), by=5)]



test <- mtx[max_target,]
number <- 1:ncol(mtx)
test <- cbind(number, test)
colnames(test) <- c("number","count")
rownames(test) <- NULL

test <- as.data.frame(test)
as.numeric(test$number)
as.numeric(test$count)
#ggplot(test, aes(rownames(test), count)) + geom_bar(stat = "identity")


ggplot(test, aes(x = number, y = count)) + geom_bar(stat = "identity")

plot(as.factor(test$count))

test <- mtx[max_target,]
barplot(test)

lab <- rep("", length(test))
#lab[seq(1, length(test)] <-seq(0, length(test))
barplot(test, names.arg=lab)




number <- 1:ncol(mtx)
test <- cbind(number, test)
colnames(test) <- c("number","count")
rownames(test) <- NULL
test <- test[,count]













lab <- rep("", length(test2))
lab[seq(1, length(test2), by=1000)] <-names(test)[seq(1, length(test), by=1000)]
barplot(dt, names.arg=lab)

points <- seq(0, length(test2), by = 1000)   # create a sample curve
names(test2) <- as.factor(seq(0, length(test2), by = 1000))



barplot(test2)




##################################3333


number <- 1:ncol(mtx)
max_target <- data.frame(number,mtx[max_target,])

library(ggplot2)
ggplot(max_target,geom="histogram")

ggplot(data=max_target, aes(x=max_target[,1],y=max_target[,2])) + 
  geom_histogram()


hist(mtx[max_target,], main="The highest gRNA in all cells", sub="",
  xlab=paste0(max_target, " (gRNA)"), ylab="Expression level", breaks = 100)

png(file="C:/Datamentor/R-tutorial/saving_plot2.png",
width=600, height=350)
hist(Temperature, col="gold")
dev.off()




  breaks = seq(from = (mtx[max_target,1]), 
               to = (mtx[max_target,length(mtx[max_target,])]), 
               by = 10)









```